<!doctype html>
<!--
  üé® E-xpert Prezentacja 2025 - Multi-Theme Support
  
  Dostƒôpne motywy kolorystyczne (parametr URL):
  - ?theme=orange   (domy≈õlny - pomara≈Ñczowy)
  - ?theme=green    (zielony)
  - ?theme=blue     (niebieski)
  - ?theme=purple   (fioletowy)
  - ?theme=red      (czerwony)
  
  Przyk≈Çad u≈ºycia:
  utilities/presentation.html?theme=green
  
  Dane prezentacji: data/presentation-ais.json
-->
<html lang="pl" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>E-xpert 2025 ‚Äî Prezentacja</title>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://knsiexpert.github.io/site/utilities/presentation-story.html" />
    <meta property="og:title" content="E-xpert 2025 ‚Äî Prezentacja" />
    <meta property="og:description" content="Interaktywna prezentacja E-xpert 2025 z wieloma motywami kolorystycznymi" />
    <meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/open-graph-image-presentation-ais-1.jpg" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://knsiexpert.github.io/site/utilities/presentation-story.html" />
    <meta property="twitter:title" content="E-xpert 2025 ‚Äî Prezentacja" />
    <meta property="twitter:description" content="Interaktywna prezentacja E-xpert 2025 z wieloma motywami kolorystycznymi" />
    <meta property="twitter:image" content="https://knsiexpert.github.io/site/data/assets/open-graph-image-presentation-ais-1.jpg" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM globals for Babel runtime JSX transform -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel standalone to compile the inlined JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      html, body, #root { height: 100%; margin: 0; overflow: hidden; }
      
      /* Mobile optimizations */
      @media (max-width: 768px) {
        html, body, #root { overflow-x: hidden; }
        
        /* Smaller fonts for mobile */
        .mobile-title { font-size: 1.75rem !important; line-height: 2rem !important; }
        .mobile-text-xl { font-size: 1.125rem !important; line-height: 1.75rem !important; }
        .mobile-text-lg { font-size: 1rem !important; line-height: 1.5rem !important; }
        .mobile-text-base { font-size: 0.875rem !important; line-height: 1.25rem !important; }
        
        /* Smaller spacing */
        .mobile-p-sm { padding: 0.5rem !important; }
        .mobile-px-sm { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
        .mobile-py-sm { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
        .mobile-pl-sm { padding-left: 10px !important; }
        .mobile-no-p-sm { padding: 0px !important; }
        .mobile-gap-sm { gap: 0.75rem !important; }
        .mobile-mb-sm { margin-bottom: 0.5rem !important; }
        
        /* Hide complex shadows on mobile for performance */
        .mobile-hide-shadow { display: none !important; }
        
        /* Prevent horizontal scroll */
        .mobile-overflow-x-hidden { overflow-x: hidden !important; }
        
        /* Adjust image sizes */
        .mobile-img-max { max-height: 250px !important; }
        
        /* Better touch targets */
        .mobile-touch-target { min-width: 44px !important; min-height: 44px !important; }
      }
    </style>
  </head>
  <body class="h-full">
    <div id="root" class="h-full"></div>

    <script type="text/babel" data-presets="react">
      const { useState, useEffect } = React;

      // Theme colors configuration
      const THEME_COLORS = {
        orange: {
          name: 'Orange',
          primary: '#ff6b00',
          primaryLight: '#ff8c00',
          primaryLighter: '#ffa500',
          rgb: '255, 107, 0',
          rgbLight: '255, 140, 0',
          tailwind: {
            from500: 'from-orange-500',
            to600: 'to-orange-600',
            to400: 'to-orange-400',
            from400: 'from-orange-400',
            bg500: 'bg-orange-500',
            text500: 'text-orange-500',
            border500: 'border-orange-500'
          }
        },
        green: {
          name: 'Green',
          primary: '#10b981',
          primaryLight: '#34d399',
          primaryLighter: '#6ee7b7',
          rgb: '16, 185, 129',
          rgbLight: '52, 211, 153',
          tailwind: {
            from500: 'from-green-500',
            to600: 'to-green-600',
            to400: 'to-green-400',
            from400: 'from-green-400',
            bg500: 'bg-green-500',
            text500: 'text-green-500',
            border500: 'border-green-500'
          }
        },
        blue: {
          name: 'Blue',
          primary: '#3b82f6',
          primaryLight: '#60a5fa',
          primaryLighter: '#93c5fd',
          rgb: '59, 130, 246',
          rgbLight: '96, 165, 250',
          tailwind: {
            from500: 'from-blue-500',
            to600: 'to-blue-600',
            to400: 'to-blue-400',
            from400: 'from-blue-400',
            bg500: 'bg-blue-500',
            text500: 'text-blue-500',
            border500: 'border-blue-500'
          }
        },
        purple: {
          name: 'Purple',
          primary: '#a855f7',
          primaryLight: '#c084fc',
          primaryLighter: '#d8b4fe',
          rgb: '168, 85, 247',
          rgbLight: '192, 132, 252',
          tailwind: {
            from500: 'from-purple-500',
            to600: 'to-purple-600',
            to400: 'to-purple-400',
            from400: 'from-purple-400',
            bg500: 'bg-purple-500',
            text500: 'text-purple-500',
            border500: 'border-purple-500'
          }
        },
        red: {
          name: 'Red',
          primary: '#ef4444',
          primaryLight: '#f87171',
          primaryLighter: '#fca5a5',
          rgb: '239, 68, 68',
          rgbLight: '248, 113, 113',
          tailwind: {
            from500: 'from-red-500',
            to600: 'to-red-600',
            to400: 'to-red-400',
            from400: 'from-red-400',
            bg500: 'bg-red-500',
            text500: 'text-red-500',
            border500: 'border-red-500'
          }
        }
      };

      // Icon components
      const ChevronLeft = (props) => <span {...props} style={{fontSize: '24px'}}>‚óÄ</span>;
      const ChevronRight = (props) => <span {...props} style={{fontSize: '24px'}}>‚ñ∂</span>;
      const Trophy = (props) => <span {...props} style={{fontSize: '20px'}}>üèÜ</span>;
      const Rocket = (props) => <span {...props} style={{fontSize: '20px'}}>üöÄ</span>;
      const ExternalLink = (props) => <span {...props} style={{fontSize: '20px'}}>üîó</span>;

      const ExpertPresentation = () => {
        // Get theme from URL parameter
        const getThemeFromURL = () => {
          const params = new URLSearchParams(window.location.search);
          const themeParam = params.get('theme');
          return THEME_COLORS[themeParam] ? themeParam : 'orange';
        };
        
        const [currentSlide, setCurrentSlide] = useState(0);
        const [isAnimating, setIsAnimating] = useState(false);
        const [progress, setProgress] = useState(0);
        const [darkMode, setDarkMode] = useState(true);
        const [presentationData, setPresentationData] = useState(null);
        const [isLoading, setIsLoading] = useState(true);
        const [error, setError] = useState(null);
        const [isPaused, setIsPaused] = useState(false);
        const [theme, setTheme] = useState(getThemeFromURL());
        
        // Theme colors - must be defined before usage
        const themeColors = THEME_COLORS[theme];
        const isDarkMode = darkMode;

        // Load presentation data from JSON file
        useEffect(() => {
          const loadData = async () => {
            try {
              setIsLoading(true);
              const dataAddress = window.location.href.includes("site") 
                ? '../data/presentation-ais.json' 
                : '/data/presentation-ais.json';
              const response = await fetch(dataAddress);
              if (!response.ok) {
                throw new Error('Failed to load presentation data');
              }
              const data = await response.json();
              setPresentationData(data);
              setIsLoading(false);
              
              // Log available themes
              console.log(`%cüé® Prezentacja E-xpert 2025`, `color: ${themeColors.primary}; font-size: 20px; font-weight: bold;`);
              console.log(`%cAktywny motyw: ${themeColors.name}`, `color: ${themeColors.primary}; font-size: 14px;`);
              console.log(`%cDostƒôpne motywy:`, `font-weight: bold;`);
              console.log(`  ?theme=orange  (domy≈õlny)`);
              console.log(`  ?theme=green`);
              console.log(`  ?theme=blue`);
              console.log(`  ?theme=purple`);
              console.log(`  ?theme=red`);
            } catch (err) {
              console.error('Error loading presentation:', err);
              setError(err.message);
              setIsLoading(false);
            }
          };
          
          loadData();
        }, [theme]);

        // Progress timer
        useEffect(() => {
          if (!presentationData || isPaused) return;
          
          const timer = setInterval(() => {
            setProgress((prev) => (prev >= 100 ? 0 : prev + 0.5));
          }, 50);
          return () => clearInterval(timer);
        }, [currentSlide, presentationData, isPaused]);

        // Auto-advance
        useEffect(() => {
          if (!presentationData || isPaused) return;
          
          if (progress >= 100 && currentSlide < presentationData.slides.length - 1 && !isAnimating) {
            setIsAnimating(true);
            setTimeout(() => {
              setCurrentSlide(currentSlide + 1);
              setIsAnimating(false);
              setProgress(0);
            }, 300);
          }
        }, [progress, currentSlide, isAnimating, presentationData, isPaused]);
        
        // Reset scroll to top when slide changes
        useEffect(() => {
          const scrollContainer = document.querySelector('.custom-scrollbar');
          if (scrollContainer) {
            scrollContainer.scrollTop = 0;
          }
        }, [currentSlide]);

        // Watch for URL changes (theme parameter)
        useEffect(() => {
          const handlePopState = () => {
            const newTheme = getThemeFromURL();
            if (newTheme !== theme) {
              setTheme(newTheme);
            }
          };
          
          window.addEventListener('popstate', handlePopState);
          return () => window.removeEventListener('popstate', handlePopState);
        }, [theme]);
        
        // Preload next image for smooth transition
        useEffect(() => {
          if (!presentationData || !presentationData.slides) return;
          
          const nextSlide = currentSlide + 1;
          if (nextSlide < presentationData.slides.length) {
            const nextSlideData = presentationData.slides[nextSlide];
            if (nextSlideData.image) {
              const img = new Image();
              img.src = nextSlideData.image;
            }
          }
        }, [currentSlide, presentationData]);
        
        // Keyboard navigation
        useEffect(() => {
          if (!presentationData) return;
          
          const handleKeyDown = (e) => {
            if (e.key === 'ArrowRight' && currentSlide < presentationData.slides.length - 1 && !isAnimating) {
              setIsAnimating(true);
              setTimeout(() => {
                setCurrentSlide(currentSlide + 1);
                setIsAnimating(false);
                setProgress(0);
              }, 300);
            }
            if (e.key === 'ArrowLeft' && currentSlide > 0 && !isAnimating) {
              setIsAnimating(true);
              setTimeout(() => {
                setCurrentSlide(currentSlide - 1);
                setIsAnimating(false);
                setProgress(0);
              }, 300);
            }
          };
          
          window.addEventListener('keydown', handleKeyDown);
          return () => window.removeEventListener('keydown', handleKeyDown);
        }, [currentSlide, isAnimating, presentationData]);

        // Loading state
        if (isLoading) {
          return (
            <div className="min-h-screen bg-gray-50 flex items-center justify-center">
              <div className="text-center">
                <div className={`animate-spin rounded-full h-16 w-16 border-b-4 ${themeColors.tailwind.border500} mx-auto mb-4`}></div>
                <p className="text-gray-600 text-xl font-medium">≈Åadowanie prezentacji...</p>
              </div>
            </div>
          );
        }

        // Error state
        if (error || !presentationData) {
          return (
            <div className="min-h-screen bg-gray-50 flex items-center justify-center">
              <div className="text-center max-w-md mx-auto p-8">
                <div className="text-6xl mb-4">‚ùå</div>
                <h2 className="text-2xl font-bold text-gray-900 mb-2">B≈ÇƒÖd ≈Çadowania prezentacji</h2>
                <p className="text-gray-600 mb-4">{error || 'Nie uda≈Ço siƒô za≈Çadowaƒá danych'}</p>
                <button
                  onClick={() => window.location.reload()}
                  className={`px-6 py-3 ${themeColors.tailwind.bg500} text-white rounded-lg hover:${themeColors.tailwind.bg500} transition-colors font-bold`}
                >
                  Od≈õwie≈º stronƒô
                </button>
              </div>
            </div>
          );
        }

        const slides = presentationData.slides;
        const currentSlideData = slides[currentSlide];

        const handleNext = () => {
          if (currentSlide < slides.length - 1 && !isAnimating) {
            setIsAnimating(true);
            setTimeout(() => {
              setCurrentSlide(currentSlide + 1);
              setIsAnimating(false);
              setProgress(0);
            }, 300);
          }
        };

        const handlePrev = () => {
          if (currentSlide > 0 && !isAnimating) {
            setIsAnimating(true);
            setTimeout(() => {
              setCurrentSlide(currentSlide - 1);
              setIsAnimating(false);
              setProgress(0);
            }, 300);
          }
        };

        const goToSlide = (index) => {
          if (!isAnimating && index !== currentSlide) {
            setIsAnimating(true);
            setTimeout(() => {
              setCurrentSlide(index);
              setIsAnimating(false);
              setProgress(0);
            }, 300);
          }
        };

        // Helper function to convert URLs in text to clickable links
        const renderTextWithLinks = (text, className, isDark) => {
          // Regex that matches both http(s):// URLs and domain names
          const urlRegex = /(https?:\/\/[^\s,]+|(?:www\.|[a-zA-Z0-9-]+\.(?:com|pl|io|org|net|edu|gov))[^\s,]*)/g;
          const parts = text.split(urlRegex);
          
          return parts.map((part, index) => {
            if (part && part.match(urlRegex)) {
              // Add https:// if URL doesn't have protocol
              const url = part.match(/^https?:\/\//) ? part : `https://${part}`;
              
              return (
                <a
                  key={index}
                  href={url}
                  target="_blank"
                  rel="noopener noreferrer"
                  className={`underline hover:no-underline transition-all ${isDark ? `text-${theme}-300 hover:text-${theme}-400` : `text-${theme}-500 hover:text-${theme}-600`} cursor-pointer`}
                  style={{ letterSpacing: '-0.01em' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setIsPaused(true);  // Pause presentation when link is clicked
                  }}
                >
                  {part}
                </a>
              );
            }
            return part ? <span key={index}>{part}</span> : null;
          });
        };

        const renderBullet = (bullet, isDark, slideNumber, slideData) => {
          const baseTextStyle = "tracking-tight leading-relaxed";
          // Check for any URL pattern
          const hasLink = bullet.includes('http://') || bullet.includes('https://') || 
                          bullet.match(/(?:www\.|[a-zA-Z0-9-]+\.(?:com|pl|io|org|net|edu|gov))/g);
          
          // Special styling for ENTIRE first slide - NEXT LEVEL
          if (slideNumber === 1 && slideData && slideData.motto) {
            // MOTTO - Big, bold, stylish
            if (bullet === slideData.motto) {
              return (
                <li key={bullet} className="my-12 list-none">
                  <div className="relative inline-block">
                    {/* Multi-layer colored shadows like main image */}
                    <div 
                      className="absolute inset-0 blur-2xl pointer-events-none"
                      style={{
                        background: `linear-gradient(135deg, rgba(${themeColors.rgb}, 0.4) 0%, rgba(0, 0, 0, 0.25) 100%)`,
                        transform: 'translate(0px, 8px) scale(1.08)',
                        opacity: 0.7,
                        zIndex: -1
                      }}
                    />
                    <div 
                      className="absolute -left-4 top-0 bottom-0 w-20 blur-xl pointer-events-none"
                      style={{
                        background: `linear-gradient(180deg, rgba(${themeColors.rgb}, 0.35), rgba(${themeColors.rgbLight}, 0.2))`,
                        opacity: 0.6,
                        zIndex: -1
                      }}
                    />
                    
                    {/* Gradient text */}
                    <div className="text-4xl md:text-5xl lg:text-6xl font-black tracking-tight mobile-text-xl"
                      style={{
                        backgroundImage: isDark 
                          ? `linear-gradient(135deg, #ffffff 0%, ${themeColors.primary} 100%)`
                          : `linear-gradient(135deg, #000000 0%, ${themeColors.primary} 100%)`,
                        WebkitBackgroundClip: 'text',
                        WebkitTextFillColor: 'transparent',
                        backgroundClip: 'text',
                        letterSpacing: '-0.02em'
                      }}
                    >
                      "{slideData.motto}"
                    </div>
                    
                    {/* Modern accent bars */}
                    <div className="mt-4 flex gap-2 items-center">
                      <div className={`h-1 w-20 bg-gradient-to-r ${themeColors.tailwind.from500} ${themeColors.tailwind.to400}`} />
                      <div className={`h-1 w-8 bg-gradient-to-r ${themeColors.tailwind.from400} to-transparent`} />
                      <div className={`ml-2 text-xs font-bold tracking-widest uppercase ${isDark ? 'text-gray-400' : 'text-gray-500'}`}>
                        {slideData.tagline || 'TAGLINE'}
                      </div>
                    </div>
                  </div>
                </li>
              );
            }
            
            // Other bullets on first slide - NO bullet points, modern cards
            if (bullet !== slideData.motto && bullet !== '') {
              return (
                <li key={bullet} className="my-3 md:my-4 list-none">
                  <div className={`relative pl-4 md:pl-6 py-2 md:py-3 border-l-2 ${themeColors.tailwind.border500}/50 ${isDark ? 'bg-white/5' : 'bg-black/5'} rounded-r-lg mobile-py-sm mobile-px-sm`}>
                    {/* Orange accent dot */}
                    <div className={`absolute -left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-gradient-to-br ${themeColors.tailwind.from500} ${themeColors.tailwind.to600} shadow-lg shadow-${theme}-500/50`} />
                    
                    {/* Text */}
                    <span className={`font-medium text-lg md:text-2xl ${isDark ? 'text-gray-200' : 'text-gray-800'} mobile-text-lg`}
                      style={{ letterSpacing: '-0.01em' }}
                    >
                      {hasLink ? renderTextWithLinks(bullet, 'font-medium text-lg md:text-2xl mobile-text-lg', isDark) : bullet}
                    </span>
                  </div>
                </li>
              );
            }
            
            // Empty space
            if (bullet === '') {
              return <div key={Math.random()} className="h-4"></div>;
            }
          }
          
          if (bullet.startsWith('‚Äî')) {
            return (
              <li 
                key={bullet} 
                className={`ml-6 md:ml-12 ${isDark ? 'text-gray-300' : 'text-gray-700'} text-lg md:text-2xl ${baseTextStyle} font-normal mobile-text-lg`}
                style={{ letterSpacing: '-0.01em' }}
              >
                {hasLink ? renderTextWithLinks(bullet, `text-lg md:text-2xl ${baseTextStyle} mobile-text-lg`, isDark) : bullet}
              </li>
            );
          }
          if (bullet === '') {
            return <div key={Math.random()} className="h-3"></div>;
          }
          
          // Highlight achievements
          if (bullet.includes('miejsce') || bullet.includes('WINNER')) {
            return (
              <li key={bullet} className="flex items-start gap-3 md:gap-4">
                <span className="mt-1 md:mt-2 flex-shrink-0">
                  <Trophy className={themeColors.tailwind.text500} />
                </span>
                <span 
                  className={`font-bold text-lg md:text-2xl ${baseTextStyle} ${isDark ? `text-${theme}-300` : `text-${theme}-600`} mobile-text-lg`}
                  style={{ letterSpacing: '-0.01em' }}
                >
                  {hasLink ? renderTextWithLinks(bullet, `font-bold text-lg md:text-2xl ${baseTextStyle} mobile-text-lg`, isDark) : bullet}
                </span>
              </li>
            );
          }
          
          if (bullet.includes('Projekt:') || bullet.includes('projekt')) {
            return (
              <li key={bullet} className="flex items-start gap-3 md:gap-4">
                <span className="mt-1 md:mt-2 flex-shrink-0">
                  <Rocket className="text-blue-500" />
                </span>
                <span 
                  className={`font-semibold text-lg md:text-2xl ${baseTextStyle} ${isDark ? 'text-blue-300' : 'text-blue-600'} mobile-text-lg`}
                  style={{ letterSpacing: '-0.01em' }}
                >
                  {hasLink ? renderTextWithLinks(bullet, `font-semibold text-lg md:text-2xl ${baseTextStyle} mobile-text-lg`, isDark) : bullet}
                </span>
              </li>
            );
          }
          
          // Regular bullet
          return (
            <li key={bullet} className="flex items-start gap-3 md:gap-4">
              <span className={`mt-2 md:mt-3 w-2 md:w-2.5 h-2 md:h-2.5 ${themeColors.tailwind.bg500} rounded-full flex-shrink-0`}></span>
              <span 
                className={`text-lg md:text-2xl ${baseTextStyle} font-medium mobile-text-lg`}
                style={{ letterSpacing: '-0.01em' }}
              >
                {hasLink ? renderTextWithLinks(bullet, `text-lg md:text-2xl ${baseTextStyle} font-medium mobile-text-lg`, isDark) : bullet}
              </span>
            </li>
          );
        };

        return (
          <div className={`h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'} transition-colors duration-700 relative overflow-hidden flex flex-col`}>
            {/* Background gradient */}
            <div 
              className="absolute inset-0 opacity-20"
              style={{
                backgroundImage: isDarkMode 
                  ? `linear-gradient(135deg, #1c1b22 0%, ${themeColors.primary} 50%, ${themeColors.primaryLighter} 100%)`
                  : `linear-gradient(135deg, #f3f3f7 0%, ${themeColors.primary} 30%, ${themeColors.primaryLighter} 100%)`
              }}
            />
            
            {/* Pattern overlay */}
            <div 
              className="absolute inset-0 opacity-5"
              style={{
                backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23${isDarkMode ? 'ffffff' : '000000'}' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`
              }}
            />

            {/* Progress bar */}
            <div className={`absolute top-0 left-0 right-0 h-1 ${isPaused ? `${themeColors.tailwind.bg500}/20` : 'bg-black/10'} z-50 transition-colors duration-300`}>
              <div 
                className="h-full transition-all duration-100"
                style={{ 
                  width: `${progress}%`,
                  backgroundImage: isPaused 
                    ? 'linear-gradient(90deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)'
                    : `linear-gradient(90deg, ${themeColors.primary} 0%, ${themeColors.primaryLight} 50%, ${themeColors.primaryLighter} 100%)`
                }}
              />
            </div>

            {/* Control buttons - Desktop only - left side */}
            <div className="hidden md:flex absolute top-6 left-6 gap-3 z-50">
              {/* Dark mode toggle */}
              <button
                onClick={() => setDarkMode(!darkMode)}
                className={`p-3 rounded-xl ${isDarkMode ? 'bg-gray-800/90 text-white' : 'bg-white/90 text-gray-900'} backdrop-blur-sm border ${isDarkMode ? 'border-gray-700/50' : 'border-gray-200/50'} hover:scale-110 transition-all shadow-lg`}
                aria-label="Prze≈ÇƒÖcz tryb ciemny"
              >
                <span className="text-2xl">{isDarkMode ? '‚òÄÔ∏è' : 'üåô'}</span>
              </button>
            </div>
            
            {/* Mobile control bar - All buttons in one row on the left */}
            <div className="flex md:hidden absolute top-3 left-3 gap-1.5 z-50">
              {/* Dark mode toggle */}
              <button
                onClick={() => setDarkMode(!darkMode)}
                className={`p-1.5 rounded-md ${isDarkMode ? 'bg-gray-800/90 text-white' : 'bg-white/90 text-gray-900'} backdrop-blur-sm border ${isDarkMode ? 'border-gray-700/50' : 'border-gray-200/50'} hover:scale-110 transition-all shadow-lg`}
                aria-label="Prze≈ÇƒÖcz tryb ciemny"
              >
                <span className="text-base">{isDarkMode ? '‚òÄÔ∏è' : 'üåô'}</span>
              </button>

              {/* Pause/Play toggle */}
              <button
                onClick={() => setIsPaused(!isPaused)}
                className={`p-1.5 rounded-md ${
                  isPaused 
                    ? `${themeColors.tailwind.bg500} text-white ${themeColors.tailwind.border500}` 
                    : `${isDarkMode ? 'bg-gray-800/90 text-white' : 'bg-white/90 text-gray-900'} ${isDarkMode ? 'border-gray-700/50' : 'border-gray-200/50'}`
                } backdrop-blur-sm border hover:scale-110 transition-all shadow-lg`}
                aria-label={isPaused ? 'Wzn√≥w prezentacjƒô' : 'Zatrzymaj prezentacjƒô'}
                title={isPaused ? 'Wzn√≥w prezentacjƒô' : 'Zatrzymaj prezentacjƒô'}
              >
                <span className="text-base">{isPaused ? '‚ñ∂Ô∏è' : '‚è∏Ô∏è'}</span>
              </button>
              
              {/* Reset to first slide button */}
              <button
                onClick={() => {
                  if (currentSlide !== 0 && !isAnimating) {
                    setIsAnimating(true);
                    setTimeout(() => {
                      setCurrentSlide(0);
                      setIsAnimating(false);
                      setProgress(0);
                    }, 300);
                  }
                }}
                disabled={currentSlide === 0}
                className={`p-1.5 rounded-md ${isDarkMode ? 'bg-gray-800/90 text-white' : 'bg-white/90 text-gray-900'} backdrop-blur-sm border ${isDarkMode ? 'border-gray-700/50' : 'border-gray-200/50'} shadow-lg ${currentSlide === 0 ? 'opacity-30' : 'hover:scale-110'} transition-all`}
                aria-label="Pierwszy slajd"
                title="Przejd≈∫ do pierwszego slajdu"
              >
                <span className="text-base">‚èÆ</span>
              </button>
              
              {/* Previous button */}
              <button
                onClick={() => {
                  if (currentSlide > 0 && !isAnimating) {
                    setIsAnimating(true);
                    setTimeout(() => {
                      setCurrentSlide(currentSlide - 1);
                      setIsAnimating(false);
                      setProgress(0);
                    }, 300);
                  }
                }}
                disabled={currentSlide === 0}
                className={`p-1.5 rounded-md ${isDarkMode ? 'bg-gray-800/90 text-white' : 'bg-white/90 text-gray-900'} backdrop-blur-sm border ${isDarkMode ? 'border-gray-700/50' : 'border-gray-200/50'} shadow-lg ${currentSlide === 0 ? 'opacity-30' : 'hover:scale-110'} transition-all`}
                aria-label="Poprzedni slajd"
              >
                <span className="text-base">‚óÄ</span>
              </button>
              
              {/* Next button */}
              <button
                onClick={() => {
                  if (currentSlide < slides.length - 1 && !isAnimating) {
                    setIsAnimating(true);
                    setTimeout(() => {
                      setCurrentSlide(currentSlide + 1);
                      setIsAnimating(false);
                      setProgress(0);
                    }, 300);
                  }
                }}
                disabled={currentSlide === slides.length - 1}
                className={`p-1.5 rounded-md ${isDarkMode ? 'bg-gray-800/90 text-white' : 'bg-white/90 text-gray-900'} backdrop-blur-sm border ${isDarkMode ? 'border-gray-700/50' : 'border-gray-200/50'} shadow-lg ${currentSlide === slides.length - 1 ? 'opacity-30' : 'hover:scale-110'} transition-all`}
                aria-label="Nastƒôpny slajd"
              >
                <span className="text-base">‚ñ∂</span>
              </button>
            </div>

            {/* Slide counter */}
            <div className={`absolute top-3 md:top-6 right-3 md:right-6 ${isDarkMode ? 'text-white' : 'text-gray-900'} font-bold text-sm md:text-lg z-50 mobile-text-base`}>
              <span className="tracking-wider">
                {String(currentSlide + 1).padStart(2, '0')} / {String(slides.length).padStart(2, '0')}
              </span>
            </div>

            {/* Main content container */}
            <div className="flex-1 flex flex-col relative z-10 mt-14 md:mt-0">
              <div className="container mx-auto px-4 md:px-16 py-4 md:py-10 h-full flex flex-col mobile-no-p-sm">
                
                {/* Header - Fixed position */}
                <div className="flex-shrink-0 mb-3 md:mb-6 mobile-pl-sm">
                  {/* Slide badge */}
                  <div className="mb-2 md:mb-4">
                    <span className={`inline-block px-6 py-2.5 rounded-full text-sm font-black tracking-widest uppercase bg-gradient-to-r ${themeColors.tailwind.from500} ${themeColors.tailwind.to600} text-white shadow-xl`}>
                      SLAJD {currentSlideData.slide}
                    </span>
                  </div>

                  {/* Title - Fixed height for consistency */}
                  <div className="h-16 md:h-32 flex items-start pt-1 md:pt-2 mobile-mb-sm">
                    <h1 
                      className="text-3xl md:text-5xl lg:text-6xl font-black tracking-tight mobile-title"
                      style={{
                        backgroundImage: isDarkMode 
                          ? `linear-gradient(135deg, #ffffff 0%, ${themeColors.primary} 60%, ${themeColors.primaryLighter} 100%)`
                          : `linear-gradient(135deg, #1c1b22 0%, ${themeColors.primary} 60%, ${themeColors.primaryLighter} 100%)`,
                        WebkitBackgroundClip: 'text',
                        WebkitTextFillColor: 'transparent',
                        backgroundClip: 'text',
                        display: 'inline-block',
                        lineHeight: '1.15',
                        paddingTop: '0.05em',
                        paddingBottom: '0.15em'
                      }}
                    >
                      {currentSlideData.title}
                    </h1>
                  </div>
                </div>

                {/* Content area - Starts from top, scrollable */}
                <div className="flex-1 relative">
                  {/* Scrollable content */}
                  <div 
                    className="absolute inset-0 pr-4 custom-scrollbar mobile-pl-sm mobile-overflow-x-hidden"
                  >
                    <div className={`transition-opacity duration-500 ${isAnimating ? 'opacity-0' : 'opacity-100'} pb-12 md:pb-6`}>
                      <div className={`grid ${currentSlideData.image || currentSlideData.images ? 'grid-cols-1 md:grid-cols-2' : 'grid-cols-1'} gap-6 md:gap-12 mobile-gap-sm`}>
                        
                        {/* Left column - Bullets */}
                        <div>
                          <ul className={`space-y-4 ${isDarkMode ? 'text-gray-200' : 'text-gray-800'}`}>
                            {currentSlideData.bullets.map((bullet, index) => renderBullet(bullet, isDarkMode, currentSlideData.slide, currentSlideData))}
                          </ul>

                        {/* Video link */}
                        {currentSlideData.video && (
                          <div className="mt-10">
                            <a 
                              href={currentSlideData.video}
                              target="_blank"
                              rel="noopener noreferrer"
                              className={`inline-flex items-center gap-4 px-10 py-5 bg-gradient-to-r ${themeColors.tailwind.from500} ${themeColors.tailwind.to600} text-white text-xl font-bold rounded-xl hover:from-${theme}-600 hover:to-${theme}-700 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 uppercase tracking-wide`}
                              onClick={() => setIsPaused(true)}
                            >
                              <ExternalLink />
                              <span>Zobacz wideo</span>
                            </a>
                          </div>
                        )}
                      </div>

                        {/* Right column - Image - Google-style colored shadows */}
                        {currentSlideData.image && (
                          <div className="flex items-start justify-center">
                            <div className="relative">
                              {/* Multi-colored shadow layers - Different configs per slide */}
                              {(() => {
                                const shadowVariant = currentSlide % 4;
                                
                                // Variant 0: Bottom-heavy (theme dominant)
                                if (shadowVariant === 0) {
                                  return (
                                    <>
                                      <div className="absolute inset-0 blur-2xl pointer-events-none transition-all duration-700" style={{ background: `linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, rgba(${themeColors.rgb}, 0.6) 100%)`, transform: 'translate(0px, 20px) scale(1.15)', opacity: 0.8, zIndex: -1 }} />
                                      <div className="absolute top-0 bottom-0 w-24 blur-xl pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `linear-gradient(180deg, rgba(${themeColors.rgb}, 0.5), rgba(${themeColors.rgbLight}, 0.3), rgba(0, 0, 0, 0.2))`, left: '-15px', opacity: 0.7, zIndex: -1 }} />
                                      <div className="absolute top-0 bottom-0 w-24 blur-xl pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(${themeColors.rgb}, 0.4))`, right: '-15px', opacity: 0.6, zIndex: -1 }} />
                                    </>
                                  );
                                }
                                
                                // Variant 1: Left-heavy (diagonal theme)
                                if (shadowVariant === 1) {
                                  return (
                                    <>
                                      <div className="absolute inset-0 blur-2xl pointer-events-none transition-all duration-700" style={{ background: `linear-gradient(135deg, rgba(${themeColors.rgb}, 0.7) 0%, rgba(0, 0, 0, 0.3) 100%)`, transform: 'translate(-10px, 15px) scale(1.1)', opacity: 0.75, zIndex: -1 }} />
                                      <div className="absolute top-0 bottom-0 w-28 blur-xl pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `radial-gradient(ellipse at left, rgba(${themeColors.rgbLight}, 0.6), rgba(${themeColors.rgb}, 0.3))`, left: '-20px', opacity: 0.8, zIndex: -1 }} />
                                      <div className="absolute left-0 right-0 h-24 blur-xl pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `linear-gradient(90deg, rgba(${themeColors.rgb}, 0.4), transparent)`, bottom: '-15px', opacity: 0.6, zIndex: -1 }} />
                                    </>
                                  );
                                }
                                
                                // Variant 2: Right-heavy (black dominant)
                                if (shadowVariant === 2) {
                                  return (
                                    <>
                                      <div className="absolute inset-0 blur-2xl pointer-events-none transition-all duration-700" style={{ background: `linear-gradient(225deg, rgba(0, 0, 0, 0.5) 0%, rgba(${themeColors.rgb}, 0.5) 100%)`, transform: 'translate(10px, 15px) scale(1.1)', opacity: 0.7, zIndex: -1 }} />
                                      <div className="absolute top-0 bottom-0 w-28 blur-xl pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `radial-gradient(ellipse at right, rgba(0, 0, 0, 0.5), rgba(${themeColors.rgb}, 0.3))`, right: '-20px', opacity: 0.75, zIndex: -1 }} />
                                      <div className="absolute left-0 right-0 h-20 blur-xl pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `linear-gradient(90deg, transparent, rgba(${themeColors.rgb}, 0.3), rgba(0, 0, 0, 0.3))`, top: '-10px', opacity: 0.5, zIndex: -1 }} />
                                    </>
                                  );
                                }
                                
                                // Variant 3: Balanced (radial spread)
                                return (
                                  <>
                                    <div className="absolute inset-0 blur-3xl pointer-events-none transition-all duration-700" style={{ background: `radial-gradient(ellipse at center, rgba(${themeColors.rgb}, 0.5) 0%, rgba(0, 0, 0, 0.3) 50%, transparent 80%)`, transform: 'translate(0px, 18px) scale(1.2)', opacity: 0.7, zIndex: -1 }} />
                                    <div className="absolute top-0 bottom-0 w-20 blur-lg pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `linear-gradient(180deg, rgba(${themeColors.rgbLight}, 0.4), rgba(0, 0, 0, 0.2))`, left: '-12px', opacity: 0.6, zIndex: -1 }} />
                                    <div className="absolute top-0 bottom-0 w-20 blur-lg pointer-events-none transition-all duration-700 mobile-hide-shadow" style={{ background: `linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(${themeColors.rgb}, 0.3))`, right: '-12px', opacity: 0.6, zIndex: -1 }} />
                                  </>
                                );
                              })()}
                              
                              {/* Image container with smooth transition */}
                              <div className={`relative rounded-2xl md:rounded-3xl overflow-hidden ${isDarkMode ? 'bg-gray-800/40' : 'bg-white/70'} p-2 md:p-3 backdrop-blur-sm transition-opacity duration-500 mobile-p-sm`}
                                style={{
                                  boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'
                                }}
                              >
                                <img 
                                  key={currentSlide}
                                  src={currentSlideData.image} 
                                  alt={currentSlideData.title}
                                  className="w-auto h-auto max-w-full relative z-10 transition-opacity duration-500 mobile-img-max"
                                  style={{ 
                                    maxHeight: '450px', 
                                    objectFit: 'contain'
                                  }}
                                  loading="eager"
                                />
                              </div>
                            </div>
                          </div>
                        )}

                        {/* Before/After images - Google-style colored shadows */}
                        {currentSlideData.images && (
                          <div className="flex flex-col gap-8">
                            {/* BEFORE */}
                            <div className="relative">
                              <div className={`absolute -top-4 -left-4 bg-gradient-to-r ${themeColors.tailwind.from500} ${themeColors.tailwind.to600} text-white px-4 py-2 text-sm font-black uppercase tracking-widest rounded-lg shadow-xl z-10`}>
                                PRZED
                              </div>
                              <div className="relative">
                                {/* Theme/Black shadows - "BEFORE" - stronger theme color */}
                                <div 
                                  className="absolute inset-0 blur-lg pointer-events-none"
                                  style={{
                                    background: `radial-gradient(ellipse at center, rgba(${themeColors.rgb}, 0.5) 0%, rgba(0, 0, 0, 0.3) 50%, transparent 75%)`,
                                    transform: 'translate(0px, 12px) scale(1.15)',
                                    opacity: 0.6,
                                    zIndex: -1
                                  }}
                                />
                                <div 
                                  className="absolute top-0 bottom-0 w-16 blur-md pointer-events-none"
                                  style={{
                                    background: `linear-gradient(180deg, rgba(${themeColors.rgb}, 0.4), rgba(0, 0, 0, 0.2))`,
                                    left: '-10px',
                                    opacity: 0.5,
                                    zIndex: -1
                                  }}
                                />
                                <div className={`relative rounded-2xl overflow-hidden ${isDarkMode ? 'bg-gray-800/30' : 'bg-white/50'} p-4`}>
                                  <img 
                                    src={currentSlideData.images.old} 
                                    alt="Stara wersja"
                                    className="w-full h-auto relative z-10"
                                    style={{ 
                                      maxHeight: '190px', 
                                      objectFit: 'contain'
                                    }}
                                  />
                                </div>
                              </div>
                            </div>
                            
                            {/* AFTER */}
                            <div className="relative">
                              <div className="absolute -top-4 -left-4 bg-gradient-to-r from-gray-700 to-gray-900 text-white px-4 py-2 text-sm font-black uppercase tracking-widest rounded-lg shadow-xl z-10">
                                PO
                              </div>
                              <div className="relative">
                                {/* Black/Theme shadows - "AFTER" - more black, less theme */}
                                <div 
                                  className="absolute inset-0 blur-lg pointer-events-none"
                                  style={{
                                    background: `radial-gradient(ellipse at center, rgba(0, 0, 0, 0.4) 0%, rgba(${themeColors.rgb}, 0.2) 50%, transparent 75%)`,
                                    transform: 'translate(0px, 12px) scale(1.1)',
                                    opacity: 0.4,
                                    zIndex: -1
                                  }}
                                />
                                <div 
                                  className="absolute top-0 bottom-0 w-16 blur-md pointer-events-none"
                                  style={{
                                    background: `linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(${themeColors.rgb}, 0.15))`,
                                    left: '-10px',
                                    opacity: 0.3,
                                    zIndex: -1
                                  }}
                                />
                                <div className={`relative rounded-2xl overflow-hidden ${isDarkMode ? 'bg-gray-800/30' : 'bg-white/50'} p-4`}>
                                  <img 
                                    src={currentSlideData.images.new} 
                                    alt="Nowa wersja"
                                    className="w-full h-auto relative z-10"
                                    style={{ 
                                      maxHeight: '190px', 
                                      objectFit: 'contain'
                                    }}
                                  />
                                </div>
                              </div>
                            </div>
                          </div>
                        )}

                      </div>
                    </div>
                  </div>
                </div>

                {/* Bottom padding for navigation - Desktop only */}
                <div className="hidden md:block flex-shrink-0 h-28"></div>
              </div>
            </div>

            {/* Navigation bar - Fixed bottom - Desktop only */}
            <div className="hidden md:block fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50">
              <div className={`flex items-center gap-6 px-10 py-5 ${isDarkMode ? 'bg-gray-800/95 border-gray-700/50' : 'bg-white/95 border-gray-200/50'} backdrop-blur-md rounded-3xl shadow-2xl border-2`}>
                
                {/* Reset to first button - Desktop */}
                <button
                  onClick={() => goToSlide(0)}
                  disabled={currentSlide === 0}
                  className={`p-4 rounded-xl transition-all duration-300 ${
                    currentSlide === 0 
                      ? 'opacity-20 cursor-not-allowed' 
                      : `hover:bg-${theme}-500 hover:text-white hover:scale-110 active:scale-95`
                  }`}
                  aria-label="Pierwszy slajd"
                  title="Przejd≈∫ do pierwszego slajdu"
                >
                  <span className="text-2xl">‚èÆ</span>
                </button>
                
                {/* Pause/Play toggle - Desktop */}
                <button
                  onClick={() => setIsPaused(!isPaused)}
                  className={`p-4 rounded-xl transition-all duration-300 ${
                    isPaused 
                      ? `${themeColors.tailwind.bg500} text-white hover:bg-${theme}-600` 
                      : `hover:bg-${theme}-500 hover:text-white`
                  } hover:scale-110 active:scale-95`}
                  aria-label={isPaused ? 'Wzn√≥w prezentacjƒô' : 'Zatrzymaj prezentacjƒô'}
                  title={isPaused ? 'Wzn√≥w prezentacjƒô' : 'Zatrzymaj prezentacjƒô'}
                >
                  <span className="text-2xl">{isPaused ? '‚ñ∂Ô∏è' : '‚è∏Ô∏è'}</span>
                </button>
                
                {/* Previous button */}
                <button
                  onClick={handlePrev}
                  disabled={currentSlide === 0}
                  className={`p-4 rounded-xl transition-all duration-300 ${
                    currentSlide === 0 
                      ? 'opacity-20 cursor-not-allowed' 
                      : `hover:bg-${theme}-500 hover:text-white hover:scale-110 active:scale-95`
                  }`}
                >
                  <ChevronLeft className={isDarkMode ? 'text-white' : 'text-gray-900'} />
                </button>

                {/* Slide dots - Desktop only */}
                <div className="hidden md:flex items-center gap-2.5">
                  {slides.map((_, index) => (
                    <button
                      key={index}
                      onClick={() => goToSlide(index)}
                      className={`transition-all duration-300 rounded-full ${
                        index === currentSlide 
                          ? `w-12 h-4 bg-gradient-to-r ${themeColors.tailwind.from500} ${themeColors.tailwind.to600} shadow-lg` 
                          : `w-4 h-4 ${isDarkMode ? 'bg-gray-600' : 'bg-gray-300'} hover:bg-${theme}-400 hover:scale-125`
                      }`}
                      aria-label={`Przejd≈∫ do slajdu ${index + 1}`}
                      title={`Slajd ${index + 1}`}
                    />
                  ))}
                </div>

                {/* Next button */}
                <button
                  onClick={handleNext}
                  disabled={currentSlide === slides.length - 1}
                  className={`p-4 rounded-xl transition-all duration-300 ${
                    currentSlide === slides.length - 1
                      ? 'opacity-20 cursor-not-allowed'
                      : `hover:bg-${theme}-500 hover:text-white hover:scale-110 active:scale-95`
                  }`}
                >
                  <ChevronRight className={isDarkMode ? 'text-white' : 'text-gray-900'} />
                </button>
              </div>
            </div>

            {/* Keyboard hints - Desktop only */}
            <div className={`hidden md:block fixed bottom-4 right-6 ${isDarkMode ? 'text-gray-300 bg-gray-800/90 border-gray-700/50' : 'text-gray-700 bg-white/90 border-gray-200/50'} backdrop-blur-sm rounded-xl px-5 py-3 border-2 shadow-lg z-50`}>
              <span className="flex items-center gap-3 font-semibold text-base">
                <kbd className={`px-3 py-1.5 ${isDarkMode ? 'bg-gray-700' : 'bg-gray-100'} rounded-lg font-mono font-bold shadow-sm`}>‚Üê</kbd>
                <kbd className={`px-3 py-1.5 ${isDarkMode ? 'bg-gray-700' : 'bg-gray-100'} rounded-lg font-mono font-bold shadow-sm`}>‚Üí</kbd>
                <span>Nawigacja</span>
              </span>
            </div>

            {/* Custom styles */}
            <style>{`
              img {
                border-radius: 1.5rem;
              }
              * {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                text-rendering: optimizeLegibility;
              }
              
              /* Professional typography */
              body {
                font-feature-settings: "kern" 1, "liga" 1;
                -webkit-font-feature-settings: "kern" 1, "liga" 1;
                -moz-font-feature-settings: "kern" 1, "liga" 1;
              }
              
              /* Better line height for readability */
              ul li {
                line-height: 1.7;
              }
              
              /* Custom scrollbar */
              .custom-scrollbar::-webkit-scrollbar {
                width: 10px;
              }
              
              .custom-scrollbar::-webkit-scrollbar-track {
                background: transparent;
              }
              
              .custom-scrollbar::-webkit-scrollbar-thumb {
                background-image: linear-gradient(135deg, ${themeColors.primary}, ${themeColors.primaryLighter});
                border-radius: 10px;
                border: 2px solid transparent;
                background-clip: padding-box;
              }
              
              .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                background-image: linear-gradient(135deg, ${themeColors.primaryLight}, ${themeColors.primaryLighter});
                background-clip: padding-box;
              }
              
              /* Smooth scrolling */
              .custom-scrollbar {
                scroll-behavior: smooth;
              }
              
              /* Better spacing for text */
              h1 {
                letter-spacing: -0.02em;
                word-spacing: 0.05em;
              }
            `}</style>
          </div>
        );
      };

      // Mount the component
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<ExpertPresentation />);
    </script>
  </body>
</html>
