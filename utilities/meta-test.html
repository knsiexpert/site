<!DOCTYPE html>
<html>
<head>
<title>Dynamic Meta tags</title>
<script type='text/javascript'>
	const ogImage2 = '<meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/og/open-graph-image-meta-test-2.jpg">';
</script>
<script type='text/javascript'>
	const ogImage3 = '<meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/og/open-graph-image-meta-test-3.jpg">';
</script>
<script type='text/javascript'>
	const ogImage4 = '<meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/og/open-graph-image-meta-test-4.jpg">';
</script>
<script type='text/javascript'>
	const ogImage5 = '<meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/og/open-graph-image-meta-test-5.jpg">';
</script>
<script type='text/javascript'>
	const ogImage6 = '<meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/og/open-graph-image-meta-test-6.jpg">';
</script>
<script type='text/javascript'>
	const ogImage7 = '<meta property="og:image" content="https://knsiexpert.github.io/site/data/assets/og/open-graph-image-meta-test-7.jpg">';
</script>
<script type='text/javascript'>
	// Generate random number between 2 and 7
	const randomImageNumber = Math.floor(Math.random() * 6) + 2;
	
	// Select the appropriate og:image tag
	let selectedOgImageTag;
	if (randomImageNumber === 2) selectedOgImageTag = ogImage2;
	else if (randomImageNumber === 3) selectedOgImageTag = ogImage3;
	else if (randomImageNumber === 4) selectedOgImageTag = ogImage4;
	else if (randomImageNumber === 5) selectedOgImageTag = ogImage5;
	else if (randomImageNumber === 6) selectedOgImageTag = ogImage6;
	else if (randomImageNumber === 7) selectedOgImageTag = ogImage7;
	
	// Insert og:image meta tag immediately
	document.write(selectedOgImageTag);
</script>
</head>
<body>
	<h1>Header1</h1>
	<h1>Header2</h1>
	<h1>Header3</h1>
	<div class="class1">
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec interdum, urna sed dapibus lacinia, neque mauris hendrerit orci, eget elementum dui lacus vitae metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nam tincidunt et ipsum ac rutrum. Nam ultricies elit in sem consectetur scelerisque. Maecenas fermentum laoreet sollicitudin. Curabitur lectus orci, lacinia in luctus sit amet, dignissim ut nibh. Nam in lorem eget tellus faucibus malesuada tempus non urna. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
	</p>
	</div>
	<p>
		<img class="class2" id="mainImage">
	</p>

<!-- dynamic meta tags -->
	<script type='text/javascript'>
		// Extract image URL from selected og:image tag
		const imageUrlMatch = selectedOgImageTag.match(/content="([^"]+)"/);
		const imageUrl = imageUrlMatch ? imageUrlMatch[1] : '';
		
		// Set image source to match the selected OG image
		document.getElementById('mainImage').src = imageUrl;

		// Add other meta tags when DOM is ready
		document.addEventListener('DOMContentLoaded', function() {
			// Get meta description from div.class1
			const metaMainDescription = document.querySelector('div.class1').textContent;
			const metaDescriptionTag = document.createElement('meta');
			metaDescriptionTag.name = 'description';
			metaDescriptionTag.content = metaMainDescription;
			document.head.appendChild(metaDescriptionTag);

			// Get current URL
			const metaURL = window.location.href;
			const metaURLTag = document.createElement('meta');
			metaURLTag.setAttribute('property', 'og:url');
			metaURLTag.content = metaURL;
			document.head.appendChild(metaURLTag);

			// Get title from first h1
			const metaTitle = document.querySelector('h1').textContent;
			const metaTitleTag = document.createElement('meta');
			metaTitleTag.setAttribute('property', 'og:title');
			metaTitleTag.content = metaTitle;
			document.head.appendChild(metaTitleTag);

			// Get og:description from div.class1
			const metaDescription = document.querySelector('div.class1').textContent;
			const metaDescriptionOGTag = document.createElement('meta');
			metaDescriptionOGTag.setAttribute('property', 'og:description');
			metaDescriptionOGTag.content = metaDescription;
			document.head.appendChild(metaDescriptionOGTag);
		});
	</script>
</body>
</html>